doctype html
html(lang="en")

  - var tagline = `${site.author} | Canadian Software Developer, Designer, Musician, and Artist`
  - function getDescription() {
  -   return site.mode == 'index' ? tagline : post && (post.attributes.description || post.title())
  - }

  head
    title
      if site.mode == 'index'
        | #{tagline}
      else if site.mode == 'archive'
        | #{site.author} | All Posts
      else if site.mode == 'page'
        | #{site.author} | #{page.title()}
      else
        | #{post.title()}

    if site.canonical
      link(rel="canonical" href=`${site.canonical}`)

    link(rel="stylesheet" type="text/css" media="all" href=`${css}`)
    link(rel='alternate' type='application/rss+xml' title=`${tagline}` href='/index.xml')
    meta(name="viewport" content="width=device-width, initial-scale=1")
    meta(name="description" content=`${getDescription()}`)
    meta(name="theme-color" content="#bf5600")
    meta(name="author" content=`${site.author}`)
    if site.mode == 'post' || site.mode == 'index'
      meta(name="article:published_time" content=`${post.time()}`)
      meta(name="article:modified_time" content=`${post.time()}`)

  body
    #wrap
      header
        a(href='/') #{site.title}
        span.description #{site.description}

      nav
        ul
          li
            a(href='/archive.html') archive
          li
            a(href='/') homepage
          li
            a(href='/screencasts.html') screencasts
          li
            a(href='/talks.html') talks

        if site.shownav
          #older-newer
            if site.newerPost(post)
              .newer
                a(href=`/${site.newerPost(post).htmlPath()}`) newer
            if site.olderPost(post)
              .older
                a(href=`/${site.olderPost(post).htmlPath()}`) older

      | !{yield}

      #sidebar
        .profile_image
          img(src='/img/davemo.headphones.png' alt='David A. Mosher')
        p
          | David Mosher is a Canadian Software Developer, Designer, Musician, and Artist.
        .icons
          a.icon.github(href='https://github.com/davemo' title='davemo on github')
          a.icon.linkedin(href='https://linkedin.com/in/dmosher' title='dmosher on linkedin')
          a.icon.twitter(href='https://twitter.com/dmosher' title='dmosher on twitter')
          a.icon.youtube(href='https://youtube.com/davidmosher' title='davidmosher on youtube')

      footer
        | &copy; 2007â€“#{new Date().getFullYear()} #{site.author}

    script(type='text/javascript' src=`${js}`)